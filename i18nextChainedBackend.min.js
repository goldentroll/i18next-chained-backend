!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.i18nextChainedBackend=e()}(this,function(){"use strict";function n(n){return a.call(c.call(arguments,1),function(e){if(e)for(var t in e)void 0===n[t]&&(n[t]=e[t])}),n}function e(n){return n?"function"==typeof n?new n:n:null}function t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function i(){return{}}var o=[],a=o.forEach,c=o.slice,r=function(){function n(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),f=function(){function o(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(this,o),this.backends=[],this.type="backend",this.init(n,e)}return r(o,[{key:"init",value:function(t){var o=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments[2];this.services=t,this.options=n(a,this.options||{},i()),this.options.backends&&this.options.backends.forEach(function(n,i){o.backends[i]=o.backends[i]||e(n),o.backends[i].init(t,o.options.backendOptions[i],c)})}},{key:"read",value:function(n,e,t){var i=this,o=this.backends.length,a=function t(o,a){if(!(o<0)){var c=i.backends[o];c.save?(c.save(n,e,a),t(o-1,a)):t(o-1,a)}};!function c(r){if(r>=o)return t(new Error("non of the backend loaded data;",!0));var f=i.backends[r];f.read?f.read(n,e,function(n,e){e&&Object.keys(e).length>-1?(t(null,e,r),a(r-1,e)):c(r+1)}):c(r+1)}(0)}},{key:"create",value:function(n,e,t,i){this.backends.forEach(function(o){o.create&&o.create(n,e,t,i)})}}]),o}();return f.type="backend",f});
